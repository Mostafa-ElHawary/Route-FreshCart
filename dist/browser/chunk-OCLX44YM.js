import{a as $}from"./chunk-FE44ORH5.js";import{a as q}from"./chunk-VZ5ZS4GS.js";import{c as P,d as O}from"./chunk-MNRBEKP3.js";import{i as M}from"./chunk-FYGAENKV.js";import"./chunk-RQSOTOV7.js";import{h as F,n as Y}from"./chunk-EI5NMXFY.js";import{Ab as u,Gb as c,Hb as S,Ib as p,Jb as D,Ma as I,Ob as V,Qa as l,Qb as L,Rb as j,Wb as m,Xb as f,Yb as E,Z as v,aa as k,fb as b,hb as C,ka as x,la as _,lb as y,nb as B,ob as T,pb as n,qb as o,rb as d,vb as w,zb as g}from"./chunk-U6TSNRMP.js";import{a as R}from"./chunk-KPF7A2VU.js";import{e as A}from"./chunk-CWTPBX7D.js";var h=A(R());var G=(e,a)=>a.product._id,U=e=>["/orders",e],z=(e,a)=>({"text-blue-600 hover:bg-blue-100":e,"text-gray-400 cursor-not-allowed":a});function N(e,a){if(e&1){let i=w();n(0,"div",7)(1,"div",11),d(2,"img",12),n(3,"div",13)(4,"h3",14),c(5),o(),n(6,"p",15),c(7),m(8,"currency"),o()()(),n(9,"div",16)(10,"div",17)(11,"button",18),g("click",function(){let t=x(i).$implicit,s=u(3);return _(s.quantity(t.product.id,t.count-1))}),d(12,"i",19),o(),n(13,"span",20),c(14),o(),n(15,"button",21),g("click",function(){let t=x(i).$implicit,s=u(3);return _(s.quantity(t.product.id,t.count+1))}),d(16,"i",22),o()(),n(17,"button",23),g("click",function(){let t=x(i).$implicit,s=u(3);return _(s.confirmRemoveItem(t.product.id))}),d(18,"i",24),c(19),m(20,"translate"),o()()()}if(e&2){let i=a.$implicit;l(2),C("src",i.product.imageCover,I)("alt",i.product.title),l(3),p(" ",i.product.title," "),l(2),p(" ",E(8,8,i.price*i.count,"EGP ")," "),l(4),C("ngClass",j(13,z,i.count>1,i.count<=1))("disabled",i.count<=1),l(3),S(i.count),l(5),p(" ",f(20,11,"cart.remove")," ")}}function H(e,a){if(e&1){let i=w();n(0,"div",1)(1,"div",2)(2,"h2",3),c(3),m(4,"translate"),o(),n(5,"button",4),g("click",function(){x(i);let t=u(2);return _(t.clearCart())}),d(6,"i",5),c(7),m(8,"translate"),o()(),n(9,"div",6),B(10,N,21,16,"div",7,G),o(),n(12,"div",8)(13,"p",3),c(14),m(15,"translate"),m(16,"currency"),o(),n(17,"a",9),d(18,"i",10),c(19),m(20,"translate"),o()()()}if(e&2){let i=u(2);l(3),S(f(4,6,"cart.Your Cart")),l(4),p(" ",f(8,8,"cart.clear All")," "),l(3),T(i.cartData.products),l(4),D(" ",f(15,10,"cart.total"),": ",E(16,12,i.cartData.totalCartPrice,"EGP ")," "),l(3),C("routerLink",L(17,U,i.cartData._id)),l(2),p(" ",f(20,15,"cart.placeOrder")," ")}}function J(e,a){e&1&&(n(0,"div",25)(1,"div",26),d(2,"i",27),o(),n(3,"h2",28),c(4," Your cart is empty "),o(),n(5,"p",29),c(6," Looks like you haven't added any items to your cart yet. Let's change that! "),o(),n(7,"a",30)(8,"span",31),d(9,"i",32),o(),n(10,"span",33),c(11," Start Shopping "),o()()())}function K(e,a){if(e&1&&b(0,H,21,19,"div",1)(1,J,12,0),e&2){let i=u();y(0,i.cartData.products.length>0?0:1)}}function Q(e,a){e&1&&(n(0,"div",34)(1,"div",35),d(2,"div",36),n(3,"p",37),c(4,"Loading details..."),o()()())}var at=(()=>{let a=class a{constructor(){this._CartService=v(q),this._MytranslationService=v($),this.cartData={},this.Swal=h.default}ngOnInit(){this._CartService.getCart().subscribe({next:r=>{r.status==="success"&&(this.cartData=r.data)},error:r=>{console.log("cartError",r)}})}changeLanguage(r){this._MytranslationService.changeLanguage(r)}confirmRemoveItem(r){h.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(t=>{t.isConfirmed&&this.removeItem(r)})}removeItem(r){this._CartService.removeSpecificCart(r).subscribe({next:t=>{this.Swal.fire({title:"Deleted!",text:"Your item has been deleted.",icon:"success"}),this.ngOnInit()},error:t=>{console.log("cartError",t)}})}quantity(r,t){t>0&&this._CartService.updateProductCount(r,t).subscribe({next:s=>{this.cartData=s.data,this.ngOnInit()},error:s=>{console.log("cartError",s)}})}clearCart(){h.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(r=>{r.isConfirmed&&this._CartService.cearUserCart().subscribe({next:t=>{this.Swal.fire({title:"Deleted!",text:"Your item has been deleted.",icon:"success"}),this.cartData={},this.ngOnInit()}})})}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=k({type:a,selectors:[["app-cart"]],standalone:!0,features:[V],decls:3,vars:1,consts:[[1,"container","mx-auto","py-24"],[1,"bg-white","rounded-xl","shadow-lg","p-8","transform","transition","duration-500"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"flex","items-center","justify-center","px-4","py-2","text-sm","font-semibold","text-white","transition-all","duration-300","bg-red-500","btn-main","hover:bg-red-600","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-opacity-50",3,"click"],[1,"mr-2","fa-solid","fa-trash-alt","ml-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"flex","flex-col","bg-white","rounded-lg","p-6","shadow-sm","transition-all","duration-300","hover:shadow-md"],[1,"mt-8","flex","justify-between","items-center"],[1,"text-lg","font-medium","text-white","bg-green-500","hover:bg-green-600","py-2","px-6","btn-main","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:ring-opacity-50","flex","items-center",3,"routerLink"],[1,"fa-solid","fa-clipboard-list","ml-2","mr-2"],[1,"flex","items-center","mb-4"],[1,"w-24","h-24","object-cover","rounded-md","shadow-sm",3,"src","alt"],[1,"mr-4","flex-grow"],[1,"text-lg","font-semibold","text-gray-800","hover:text-blue-600","transition-colors","duration-300"],[1,"text-xl","font-bold","text-gray-800","mt-1"],[1,"flex","justify-between","items-center","mt-4"],[1,"inline-flex","items-center","bg-gray-100","rounded-lg","p-1"],[1,"p-2","rounded-md","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-opacity-50",3,"click","ngClass","disabled"],[1,"fa-solid","fa-minus"],[1,"mx-3","text-gray-700","font-medium"],[1,"p-2","text-blue-600","rounded-md","hover:bg-blue-100","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-opacity-50",3,"click"],[1,"fa-solid","fa-plus"],[1,"text-sm","font-medium","text-red-500","hover:text-red-600","transition-all","duration-300","focus:outline-none","flex","items-center",3,"click"],[1,"fa-solid","fa-trash-alt","ml-2","mr-2"],[1,"flex","flex-col","items-center","justify-center","min-h-[60vh]","p-8","text-center"],[1,"mb-8","transform","transition-all","duration-300","hover:scale-110"],[1,"fa-solid","fa-shopping-cart","text-7xl","text-blue-400"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],[1,"text-lg","text-gray-600","mb-8","max-w-md"],["routerLink","/home",1,"group","relative","inline-flex","items-center","overflow-hidden","rounded-full","bg-blue-600","px-8","py-3","text-white","focus:outline-none","focus:ring-2","focus:ring-blue-200","focus:ring-offset-2"],[1,"absolute","right-0","translate-x-full","transition-transform","group-hover:-translate-x-4"],[1,"fa-solid","fa-arrow-right"],[1,"text-sm","font-semibold","transition-all","group-hover:mr-4"],[1,"flex","justify-center","items-center","h-screen"],[1,"p-8","rounded-lg"],[1,"animate-spin","rounded-full","h-16","w-16","border-t-4","border-main","mx-auto","mb-4"],[1,"text-xl","text-gray-700","font-semibold"]],template:function(t,s){t&1&&(n(0,"section",0),b(1,K,2,1)(2,Q,5,0),o()),t&2&&(l(),y(1,s.cartData&&s.cartData.products?1:2))},dependencies:[Y,F,M,O,P]});let e=a;return e})();export{at as CartComponent};
