import{a as D}from"./chunk-F2HEYO64.js";import{a as G,b as g,c as B,d as $,h as O,i as Z,j,l as H,n as J}from"./chunk-L43IJ3GV.js";import{h as I}from"./chunk-FYGAENKV.js";import"./chunk-RQSOTOV7.js";import{h as k,j as z}from"./chunk-EI5NMXFY.js";import{Ab as _,Gb as a,Hb as R,Ib as A,Ob as q,Qa as s,Qb as b,Rb as L,Z as E,aa as N,fb as u,hb as x,ka as P,la as T,lb as c,ma as S,pb as r,qb as n,rb as m,vb as V,zb as M}from"./chunk-U6TSNRMP.js";import"./chunk-CWTPBX7D.js";var y=e=>({"border-red-500":e}),K=(e,l)=>({"bg-blue-600 text-white hover:bg-blue-700":e,"bg-gray-400 text-gray-700 cursor-not-allowed":l});function Q(e,l){if(e&1&&(r(0,"p",3),a(1),n()),e&2){let t=_();s(),R(t.MsgSuccess)}}function U(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Name is required"),n())}function W(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Name must be at least 5 characters long"),n())}function X(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Name cannot exceed 15 characters"),n())}function Y(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Name should contain only letters (a-z, A-Z) and spaces"),n())}function ee(e,l){if(e&1&&(r(0,"div",12),u(1,U,3,0,"p")(2,W,3,0)(3,X,3,0)(4,Y,3,0),n()),e&2){let t,o=_(2);s(),c(1,(t=o.registerForm.get("name"))!=null&&t.hasError("required")?1:(t=o.registerForm.get("name"))!=null&&t.hasError("minlength")?2:(t=o.registerForm.get("name"))!=null&&t.hasError("maxlength")?3:(t=o.registerForm.get("name"))!=null&&t.hasError("pattern")?4:-1)}}function te(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Email is required"),n())}function ie(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Enter a valid email"),n())}function ne(e,l){if(e&1&&(r(0,"p"),m(1,"i",27),a(2),n()),e&2){let t,o=_(3);s(2),A(" ",(t=o.registerForm.get("email"))==null?null:t.getError("emailDomain"),"")}}function re(e,l){if(e&1&&(r(0,"div",12),u(1,te,3,0,"p")(2,ie,3,0)(3,ne,3,1),n()),e&2){let t,o=_(2);s(),c(1,(t=o.registerForm.get("email"))!=null&&t.hasError("required")?1:(t=o.registerForm.get("email"))!=null&&t.hasError("email")?2:(t=o.registerForm.get("email"))!=null&&t.hasError("emailDomain")?3:-1)}}function oe(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Phone number is required"),n())}function le(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Enter a valid phone number"),n())}function ae(e,l){if(e&1&&(r(0,"div",12),u(1,oe,3,0,"p")(2,le,3,0),n()),e&2){let t,o=_(2);s(),c(1,(t=o.registerForm.get("phone"))!=null&&t.hasError("required")?1:(t=o.registerForm.get("phone"))!=null&&t.hasError("pattern")?2:-1)}}function se(e,l){e&1&&(S(),r(0,"svg",28),m(1,"path",29)(2,"path",30),n())}function me(e,l){e&1&&(S(),r(0,"svg",28),m(1,"path",31)(2,"path",32),n())}function de(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Password is required"),n())}function ue(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Password must be at least 8 characters long"),n())}function ce(e,l){e&1&&(r(0,"p"),m(1,"i",27),a(2," Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character (@$!%*?&)"),n())}function ge(e,l){if(e&1&&(r(0,"div",12),u(1,de,3,0,"p")(2,ue,3,0)(3,ce,3,0),n()),e&2){let t,o=_(2);s(),c(1,(t=o.registerForm.get("password"))!=null&&t.hasError("required")?1:(t=o.registerForm.get("password"))!=null&&t.hasError("minlength")?2:(t=o.registerForm.get("password"))!=null&&t.hasError("pattern")?3:-1)}}function pe(e,l){e&1&&(r(0,"div",12)(1,"p"),m(2,"i",27),a(3," Passwords do not match"),n()())}function _e(e,l){e&1&&(r(0,"div",12)(1,"p"),m(2,"i",27),a(3," Confirm password is required"),n()())}function fe(e,l){if(e&1&&(r(0,"p",24),a(1),n()),e&2){let t=_(2);s(),R(t.ErrorMsg)}}function xe(e,l){e&1&&(r(0,"span",26),S(),r(1,"svg",33),m(2,"circle",34)(3,"path",35),n(),a(4," Registering... "),n())}function we(e,l){e&1&&a(0," Register ")}function Ce(e,l){if(e&1){let t=V();r(0,"form",9),M("ngSubmit",function(){P(t);let d=_();return T(d.registerSubmit())}),r(1,"div")(2,"label",10),a(3,"Name"),n(),m(4,"input",11),u(5,ee,5,1,"div",12),n(),r(6,"div")(7,"label",13),a(8,"Email"),n(),m(9,"input",14),u(10,re,4,1,"div",12),n(),r(11,"div")(12,"label",15),a(13,"Phone"),n(),m(14,"input",16),u(15,ae,3,1,"div",12),n(),r(16,"div")(17,"label",17),a(18,"Password"),n(),r(19,"div",18),m(20,"input",19),r(21,"button",20),M("click",function(){P(t);let d=_();return T(d.togglePasswordVisibility())}),u(22,se,3,0,"svg",21)(23,me,3,0,"svg",21),n()(),u(24,ge,4,1,"div",12),n(),r(25,"div")(26,"label",22),a(27,"Confirm Password"),n(),r(28,"div",18),m(29,"input",23),n(),u(30,pe,4,0,"div",12)(31,_e,4,0),n(),u(32,fe,2,1,"p",24),r(33,"button",25),u(34,xe,5,0,"span",26)(35,we,1,0),n()()}if(e&2){let t,o,d,p,w,C,h,v,F,f,i=_();x("formGroup",i.registerForm),s(4),x("ngClass",b(19,y,((t=i.registerForm.get("name"))==null?null:t.invalid)&&(((t=i.registerForm.get("name"))==null?null:t.touched)||((t=i.registerForm.get("name"))==null?null:t.dirty)))),s(),c(5,(o=i.registerForm.get("name"))!=null&&o.invalid&&((o=i.registerForm.get("name"))!=null&&o.touched||(o=i.registerForm.get("name"))!=null&&o.dirty)?5:-1),s(4),x("ngClass",b(21,y,((d=i.registerForm.get("email"))==null?null:d.invalid)&&(((d=i.registerForm.get("email"))==null?null:d.touched)||((d=i.registerForm.get("email"))==null?null:d.dirty)))),s(),c(10,(p=i.registerForm.get("email"))!=null&&p.invalid&&((p=i.registerForm.get("email"))!=null&&p.touched||(p=i.registerForm.get("email"))!=null&&p.dirty)?10:-1),s(4),x("ngClass",b(23,y,((w=i.registerForm.get("phone"))==null?null:w.invalid)&&(((w=i.registerForm.get("phone"))==null?null:w.touched)||((w=i.registerForm.get("phone"))==null?null:w.dirty)))),s(),c(15,(C=i.registerForm.get("phone"))!=null&&C.invalid&&((C=i.registerForm.get("phone"))!=null&&C.touched||(C=i.registerForm.get("phone"))!=null&&C.dirty)?15:-1),s(5),x("type",i.showPassword?"text":"password")("ngClass",b(25,y,((h=i.registerForm.get("password"))==null?null:h.invalid)&&(((h=i.registerForm.get("password"))==null?null:h.touched)||((h=i.registerForm.get("password"))==null?null:h.dirty)))),s(2),x("ngIf",!i.showPassword),s(),x("ngIf",i.showPassword),s(),c(24,(v=i.registerForm.get("password"))!=null&&v.invalid&&((v=i.registerForm.get("password"))!=null&&v.touched||(v=i.registerForm.get("password"))!=null&&v.dirty)?24:-1),s(5),x("type",i.showPassword?"text":"password")("ngClass",b(27,y,i.registerForm.hasError("passwordMismatch")&&(((F=i.registerForm.get("rePassword"))==null?null:F.touched)||((F=i.registerForm.get("rePassword"))==null?null:F.dirty)))),s(),c(30,i.registerForm.hasError("passwordMismatch")&&((f=i.registerForm.get("rePassword"))!=null&&f.touched||(f=i.registerForm.get("rePassword"))!=null&&f.dirty)?30:(f=i.registerForm.get("rePassword"))!=null&&f.invalid&&((f=i.registerForm.get("rePassword"))!=null&&f.touched||(f=i.registerForm.get("rePassword"))!=null&&f.dirty)?31:-1),s(2),c(32,i.ErrorMsg?32:-1),s(),x("disabled",i.registerForm.invalid||i.isLoading)("ngClass",L(29,K,i.registerForm.valid,i.registerForm.invalid)),s(),c(34,i.isLoading?34:35)}}function he(e,l){if(e&1&&(r(0,"p",5),a(1),n()),e&2){let t=_();s(),R(t.MsgSuccess)}}var Te=(()=>{let l=class l{constructor(){this._AuthService=E(D),this._FormBuilder=E(H),this._Router=E(I),this.ErrorMsg="",this.isLoading=!1,this.MsgSuccess=!1,this.confirmPasswordValidator=o=>{let d=o.get("password"),p=o.get("rePassword");return d&&p&&d.value!==p.value?{passwordMismatch:!0}:null},this.registerForm=this._FormBuilder.group({name:[null,[g.minLength(5),g.maxLength(15),g.required,g.pattern(/^[a-zA-Z\s]*$/)]],email:[null,[g.required,g.email,this._AuthService.emailValidator()]],password:[null,[g.required,g.minLength(8),g.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]],rePassword:[null,[g.required]],phone:[null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmPasswordValidator]}),this.showPassword=!1}registerSubmit(){this.registerForm.valid?(this.isLoading=!0,console.log("registerForm",this.registerForm),this.RegisterSubscript=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:o=>{console.log(o),this.isLoading=!1,o.message=="success"&&(this.MsgSuccess=!0,setTimeout(()=>{this._Router.navigate(["/login"])},3e3))},error:o=>{console.log(o),this.ErrorMsg=o.error.message,this.isLoading=!1}})):this.registerForm.markAllAsTouched()}togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnDestroy(){this.RegisterSubscript?.unsubscribe()}};l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=N({type:l,selectors:[["app-register"]],standalone:!0,features:[q],decls:13,vars:2,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-r","from-blue-500","to-indigo-600"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-6"],[1,"text-green-600","text-center","mb-4"],[1,"mt-6","flex","flex-col","items-center"],[1,"text-green-600","mb-4","font-semibold","animate-fade-in"],[1,"flex","items-center","space-x-2"],[1,"text-md","text-gray-600"],["routerLink","/login",1,"text-blue-600","hover:text-blue-800","hover:underline","transition","duration-300","font-medium"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","name","formControlName","name",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngClass"],[1,"mt-1","text-sm","text-red-600"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","id","email","formControlName","email",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngClass"],["for","phone",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","tel","id","phone","formControlName","phone",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngClass"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative"],["id","password","formControlName","password",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"type","ngClass"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-sm","leading-5",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-5 w-5 text-gray-400","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],["for","rePassword",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","rePassword","formControlName","rePassword",1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"type","ngClass"],[1,"text-red-600","text-center"],[1,"w-full","font-semibold","py-2","px-4","rounded-md","transition","duration-300","ease-in-out",3,"disabled","ngClass"],[1,"inline-flex","items-center"],[1,"fa-solid","fa-exclamation"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-400"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule","evenodd"],["d","M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(d,p){d&1&&(r(0,"section",0)(1,"div",1)(2,"h1",2),a(3," Create an Account "),n(),u(4,Q,2,1,"p",3)(5,Ce,36,32),r(6,"div",4),u(7,he,2,1,"p",5),r(8,"div",6)(9,"p",7),a(10,"Already have an account?"),n(),r(11,"a",8),a(12,"Log in"),n()()()()()),d&2&&(s(4),c(4,p.MsgSuccess?4:5),s(3),c(7,p.MsgSuccess?7:-1))},dependencies:[J,O,G,B,$,Z,j,k,z],styles:[".is-valid[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(40 167 69 / var(--tw-border-opacity))}.is-valid[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(40 167 69 / var(--tw-border-opacity));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(40 167 69 / var(--tw-ring-opacity));--tw-ring-opacity: .5 }.is-invalid[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(220 53 69 / var(--tw-border-opacity))}.is-invalid[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(220 53 69 / var(--tw-border-opacity));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(220 53 69 / var(--tw-ring-opacity));--tw-ring-opacity: .5 }"]});let e=l;return e})();export{Te as RegisterComponent};
